(()=>{const e=e=>document.querySelector(`.game-board__${e}`),t=e("category-display"),n=e("wrong-letters"),o=e("input"),s=e("submit-btn"),l=e("lives-value"),a=e("popup"),r=e("popup-answer"),i=e("overlay"),c=document.querySelector('button[data-confirm="yes"]'),d=document.querySelector('button[data-confirm="no"]');let u,h,p=e("letters-list"),m=e("gallows"),g=6,C=[],f="",b="",v=0,y=[],L=[];const _=e=>{let t=e.splice([Math.floor(Math.random()*e.length)],1);return h=e,C=t[0].clue.split(""),f=t[0].category,C},x=e=>{e.forEach(()=>p.innerHTML+='<li class="game-board__letters">_</li>'),u=document.querySelectorAll(".game-board__letters")},E=()=>{t.textContent=` ${f}`},w=e=>{e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide")},k=e=>{e.disabled?e.disabled=!1:e.disabled=!0},q=()=>{(()=>{for(g=6,l.textContent=g,v=0,y=[],L=[],n.textContent="Wrong letters:";p.firstChild;)p.removeChild(p.firstChild);for(let e=0;e<g;e++)m.children[e].classList.add("hide")})(),w(a),w(i),k(o),_(h),x(C),E()};s.addEventListener("click",e=>{e.preventDefault(),0!==o.value.length&&(b=o.value.toLowerCase().split(""),o.value="",S(),o.focus())}),c.addEventListener("click",()=>q()),d.addEventListener("click",()=>{a.innerHTML='\n  <p class="game-board__popup-paragraph" style="margin-bottom: 0">Thank you for playing</p>\n  '});const M=e=>{w(i),w(a),r.textContent=C.join("").toUpperCase(),a.children[0].textContent=e?"Congratulations, you won!":"You lost..."},S=()=>{b.forEach(e=>{C.includes(e)?(C.forEach((t,n)=>{t!==e||y.includes(e)||(u[n].textContent=e.toUpperCase(),v++)}),y.push(e)):L.includes(e)||(n.textContent+=` ${e.toUpperCase()}`,L.push(e),(e=>m.children[e].classList.remove("hide"))(--g),l.textContent=g,0===g&&(k(o),M(!1))),v===C.length&&(k(o),M(!0))})};(()=>fetch("https://hangman-game-823e7.firebaseio.com/list.json").then(e=>e.json()))().then(_).then(x).then(E)})();