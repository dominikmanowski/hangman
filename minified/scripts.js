const select=e=>document.querySelector(`.game-board__${e}`),categoryDisp=select("category-display"),wordToGuess=select("word-to-guess"),wrongLetters=select("wrong-letters"),input=select("input"),submitBtn=select("submit-btn"),livesDisp=select("lives-value"),popup=select("popup"),popupAnswer=select("popup-answer"),overlay=select("overlay"),yesBtn=document.querySelector('button[data-confirm="yes"]'),noBtn=document.querySelector('button[data-confirm="no"]');let lettersListElements,wordList,lettersList=select("letters-list"),gallows=select("gallows"),lives=6,word=[],category="",currentGuess="",rightGuessCount=0,rightLettersArr=[],wrongLettersArr=[];const wordListURL="https://hangman-game-823e7.firebaseio.com/list.json";function getWordList(){return fetch(wordListURL).then(e=>e.json())}function getRandomWord(e){let t=e.splice([Math.floor(Math.random()*e.length)],1);return wordList=e,word=t[0].clue.split(""),category=t[0].category,word}function displayUnderscores(e){e.forEach(()=>lettersList.innerHTML+='<li class="game-board__letters">_</li>'),lettersListElements=document.querySelectorAll(".game-board__letters")}function displayCategory(){categoryDisp.textContent=` ${category}`}function drawHangman(e){gallows.children[e].classList.remove("hide")}function toggleHideClass(e){e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide")}function toggleDisableElement(e){e.disabled?e.disabled=!1:e.disabled=!0}function clearBoard(){for(lives=6,livesDisp.textContent=lives,rightGuessCount=0,rightLettersArr=[],wrongLettersArr=[],wrongLetters.textContent="Wrong letters:";lettersList.firstChild;)lettersList.removeChild(lettersList.firstChild);for(let e=0;e<lives;e++)gallows.children[e].classList.add("hide")}function prepareBoard(){getWordList().then(getRandomWord).then(displayUnderscores).then(displayCategory)}function newRound(){clearBoard(),toggleHideClass(popup),toggleHideClass(overlay),toggleDisableElement(input),getRandomWord(wordList),displayUnderscores(word),displayCategory()}function handlePopup(e){toggleHideClass(overlay),toggleHideClass(popup),popupAnswer.textContent=word.join("").toUpperCase(),popup.children[0].textContent=e?"Congratulations, you won!":"You lost..."}function checkGuess(){currentGuess.forEach(e=>{word.includes(e)?(word.forEach((t,s)=>{t!==e||rightLettersArr.includes(e)||(lettersListElements[s].textContent=e.toUpperCase(),rightGuessCount++)}),rightLettersArr.push(e)):wrongLettersArr.includes(e)||(wrongLetters.textContent+=` ${e.toUpperCase()}`,wrongLettersArr.push(e),drawHangman(--lives),livesDisp.textContent=lives,0===lives&&(toggleDisableElement(input),handlePopup(!1))),rightGuessCount===word.length&&(toggleDisableElement(input),handlePopup(!0))})}prepareBoard(),submitBtn.addEventListener("click",e=>{e.preventDefault(),0!==input.value.length&&(currentGuess=input.value.toLowerCase().split(""),input.value="",checkGuess(),input.focus())}),yesBtn.addEventListener("click",()=>newRound()),noBtn.addEventListener("click",()=>{popup.innerHTML='\n  <p class="game-board__popup-paragraph" style="margin-bottom: 0">Thank you for playing</p>\n  '});