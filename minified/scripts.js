const select=e=>document.querySelector(`.game-board__${e}`),categoryDisp=select("category-display"),wordToGuess=select("word-to-guess"),wrongLetters=select("wrong-letters"),input=select("input"),submitBtn=select("submit-btn"),livesDisp=select("lives-value");let lettersListElements,wordList,lettersList=select("letters-list"),gallows=select("gallows"),lives=6,word=[],category="",currentGuess="",rightGuessCount=0,rightLettersArr=[],wrongLettersArr=[];const wordListURL="https://hangman-game-823e7.firebaseio.com/list.json";function getWordList(){return fetch(wordListURL).then(e=>e.json())}function getRandomWord(e){let t=e.splice([Math.floor(Math.random()*e.length)],1);return wordList=e,word=t[0].clue.split(""),category=t[0].category,word}function displayUnderscores(e){e.forEach(()=>lettersList.innerHTML+='<li class="game-board__letters">_</li>'),lettersListElements=document.querySelectorAll(".game-board__letters")}function displayCategory(){categoryDisp.textContent=` ${category}`}function drawHangman(e){gallows.children[e].classList.remove("hide")}function clearBoard(){for(lives=6,livesDisp.textContent=lives,rightGuessCount=0,rightLettersArr=[],wrongLettersArr=[],wrongLetters.textContent="Wrong letters:";lettersList.firstChild;)lettersList.removeChild(lettersList.firstChild);for(let e=0;e<lives;e++)gallows.children[e].classList.add("hide")}function prepareBoard(){clearBoard(),getWordList().then(getRandomWord).then(displayUnderscores).then(displayCategory)}function newRound(){clearBoard(),getRandomWord(wordList),displayUnderscores(word),displayCategory()}function checkGuess(){currentGuess.forEach(e=>{word.includes(e)?(word.forEach((t,r)=>{t!==e||rightLettersArr.includes(e)||(lettersListElements[r].textContent=e.toUpperCase(),rightGuessCount++)}),rightLettersArr.push(e)):wrongLettersArr.includes(e)||(wrongLetters.textContent+=` ${e.toUpperCase()}`,wrongLettersArr.push(e),drawHangman(--lives),livesDisp.textContent=lives,0===lives&&setTimeout(()=>{confirm("You lost. Do you want to play again?")&&newRound()},200)),rightGuessCount===word.length&&setTimeout(()=>{confirm("You won! Do you want to play again?")&&newRound()},200)})}prepareBoard(),submitBtn.addEventListener("click",e=>{e.preventDefault(),0!==input.value.length&&(currentGuess=input.value.toLowerCase().split(""),input.value="",checkGuess(),input.focus())});